-- ESIM.dbo.LOTEBOLETO definition

-- Drop table

-- DROP TABLE ESIM.dbo.LOTEBOLETO GO

CREATE TABLE ESIM.dbo.LOTEBOLETO (
	LOTEBOLETOID int IDENTITY(1,1) NOT NULL,
	ORIGEMITEMCOBRANCAID smallint NOT NULL,
	CONVENIOID smallint NOT NULL,
	DATAABERTURALOTE date NULL,
	HORAABERTURALOTE time(7) NULL,
	DESCRICAO varchar(200) COLLATE Latin1_General_CI_AI NULL,
	DATAFECHAMENTOLOTE date NULL,
	HORAFECHAMENTOLOTE time(7) NULL,
	QTDETOTALBOLETOS int NULL,
	VALORTOTALBOLETOS numeric(14,2) NULL,
	ARQUIVOLOTEBOLETOID int NULL,
	CONSTRAINT PK_LOTEBOLETO PRIMARY KEY (LOTEBOLETOID)
) GO
 CREATE NONCLUSTERED INDEX IX_FK_LOTEBOLETO_ARQUIVOLOTEBOLETO ON dbo.LOTEBOLETO (  ARQUIVOLOTEBOLETOID ASC  )  
	 WITH (  PAD_INDEX = OFF ,FILLFACTOR = 100  ,SORT_IN_TEMPDB = OFF , IGNORE_DUP_KEY = OFF , STATISTICS_NORECOMPUTE = OFF , ONLINE = OFF , ALLOW_ROW_LOCKS = ON , ALLOW_PAGE_LOCKS = ON  )
	 ON [PRIMARY ]  GO
 CREATE NONCLUSTERED INDEX IX_FK_LOTEBOLETO_BOLETOBANCARIO ON dbo.LOTEBOLETO (  CONVENIOID ASC  )  
	 WITH (  PAD_INDEX = OFF ,FILLFACTOR = 100  ,SORT_IN_TEMPDB = OFF , IGNORE_DUP_KEY = OFF , STATISTICS_NORECOMPUTE = OFF , ONLINE = OFF , ALLOW_ROW_LOCKS = ON , ALLOW_PAGE_LOCKS = ON  )
	 ON [PRIMARY ]  GO
 CREATE NONCLUSTERED INDEX IX_FK_LOTEBOLETO_ORIGEMITEMCOBRANCA ON dbo.LOTEBOLETO (  ORIGEMITEMCOBRANCAID ASC  )  
	 WITH (  PAD_INDEX = OFF ,FILLFACTOR = 100  ,SORT_IN_TEMPDB = OFF , IGNORE_DUP_KEY = OFF , STATISTICS_NORECOMPUTE = OFF , ONLINE = OFF , ALLOW_ROW_LOCKS = ON , ALLOW_PAGE_LOCKS = ON  )
	 ON [PRIMARY ]  GO;


-- ESIM.dbo.LOTEBOLETO foreign keys

ALTER TABLE ESIM.dbo.LOTEBOLETO ADD CONSTRAINT FK_LOTEBOLETO_ARQUIVOLOTEBOLETO FOREIGN KEY (ARQUIVOLOTEBOLETOID) REFERENCES ESIM.dbo.ARQUIVOLOTEBOLETO(ARQUIVOLOTEBOLETOID) GO
ALTER TABLE ESIM.dbo.LOTEBOLETO ADD CONSTRAINT FK_LOTEBOLETO_BOLETOBANCARIO FOREIGN KEY (CONVENIOID) REFERENCES ESIM.dbo.BOLETOBANCARIO(CONVENIOID) GO
ALTER TABLE ESIM.dbo.LOTEBOLETO ADD CONSTRAINT FK_LOTEBOLETO_ORIGEMITEMCOBRANCA FOREIGN KEY (ORIGEMITEMCOBRANCAID) REFERENCES ESIM.dbo.ORIGEMITEMCOBRANCA(ORIGEMITEMCOBRANCAID) GO;