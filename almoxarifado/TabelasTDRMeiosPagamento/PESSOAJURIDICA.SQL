-- ESIM.dbo.PESSOAJURIDICA definition

-- Drop table

-- DROP TABLE ESIM.dbo.PESSOAJURIDICA GO

CREATE TABLE ESIM.dbo.PESSOAJURIDICA (
	PESSOAID int NOT NULL,
	NATUREZAJURIDICAID smallint NULL,
	RAZAOSOCIAL varchar(200) COLLATE Latin1_General_CI_AI NULL,
	CNPJ numeric(15,0) NULL,
	INSCRICAOESTADUAL numeric(15,0) NULL,
	ATIVIDADEECONOMICAPRINCIPAL varchar(254) COLLATE Latin1_General_CI_AI NULL,
	DATAABERTURA date NULL,
	DATAENCERRAMENTO date NULL,
	DESOBRIGADACNPJ smallint NULL,
	CEI bigint NULL,
	INSCRICAOISS bigint NULL,
	TIPORAMOATIVIDADEID smallint NULL,
	REGIMETRIBUTARIODIFERENCIADO numeric(1,0) NULL,
	TIPOATIVIDADEECONOMICAID int NULL,
	ATIVIDADEECONOMICASECUNDARIA varchar(254) COLLATE Latin1_General_CI_AI NULL,
	FATURAMENTOULTIMOEXERCICIO numeric(14,2) NULL,
	RESULTADOULTIMOEXERCICIO numeric(14,2) NULL,
	ANOULTIMOEXERCICIO smallint NULL,
	INSCRICAOMUNICIPAL varchar(15) COLLATE Latin1_General_CI_AI NULL,
	RESPONSAVELCEI_PESSOAID int NULL,
	CONSTRAINT PK_PESSOAJURIDICA PRIMARY KEY (PESSOAID)
) GO
 CREATE NONCLUSTERED INDEX IN_PESSOAJURIDACAO_RAZAOSOCIAL ON dbo.PESSOAJURIDICA (  RAZAOSOCIAL ASC  )  
	 WITH (  PAD_INDEX = OFF ,FILLFACTOR = 100  ,SORT_IN_TEMPDB = OFF , IGNORE_DUP_KEY = OFF , STATISTICS_NORECOMPUTE = OFF , ONLINE = OFF , ALLOW_ROW_LOCKS = ON , ALLOW_PAGE_LOCKS = ON  )
	 ON [PRIMARY ]  GO
 CREATE NONCLUSTERED INDEX IN_PESSOAJURIDICA_CNPJ ON dbo.PESSOAJURIDICA (  CNPJ ASC  )  
	 WITH (  PAD_INDEX = OFF ,FILLFACTOR = 100  ,SORT_IN_TEMPDB = OFF , IGNORE_DUP_KEY = OFF , STATISTICS_NORECOMPUTE = OFF , ONLINE = OFF , ALLOW_ROW_LOCKS = ON , ALLOW_PAGE_LOCKS = ON  )
	 ON [PRIMARY ]  GO
 CREATE NONCLUSTERED INDEX IX_FK_PESSOAFISICA_RESPONSAVELCEI ON dbo.PESSOAJURIDICA (  RESPONSAVELCEI_PESSOAID ASC  )  
	 WITH (  PAD_INDEX = OFF ,FILLFACTOR = 100  ,SORT_IN_TEMPDB = OFF , IGNORE_DUP_KEY = OFF , STATISTICS_NORECOMPUTE = OFF , ONLINE = OFF , ALLOW_ROW_LOCKS = ON , ALLOW_PAGE_LOCKS = ON  )
	 ON [PRIMARY ]  GO
 CREATE NONCLUSTERED INDEX IX_FK_PESSOAJURIDICA_NATUREZAJURIDICA ON dbo.PESSOAJURIDICA (  NATUREZAJURIDICAID ASC  )  
	 WITH (  PAD_INDEX = OFF ,FILLFACTOR = 100  ,SORT_IN_TEMPDB = OFF , IGNORE_DUP_KEY = OFF , STATISTICS_NORECOMPUTE = OFF , ONLINE = OFF , ALLOW_ROW_LOCKS = ON , ALLOW_PAGE_LOCKS = ON  )
	 ON [PRIMARY ]  GO
 CREATE NONCLUSTERED INDEX IX_FK_PESSOAJURIDICA_TIPOATIVIDADEECONOMICA ON dbo.PESSOAJURIDICA (  TIPOATIVIDADEECONOMICAID ASC  )  
	 WITH (  PAD_INDEX = OFF ,FILLFACTOR = 100  ,SORT_IN_TEMPDB = OFF , IGNORE_DUP_KEY = OFF , STATISTICS_NORECOMPUTE = OFF , ONLINE = OFF , ALLOW_ROW_LOCKS = ON , ALLOW_PAGE_LOCKS = ON  )
	 ON [PRIMARY ]  GO
 CREATE NONCLUSTERED INDEX IX_FK_PESSOAJURIDICA_TIPORAMOATIVIDADE ON dbo.PESSOAJURIDICA (  TIPORAMOATIVIDADEID ASC  )  
	 WITH (  PAD_INDEX = OFF ,FILLFACTOR = 100  ,SORT_IN_TEMPDB = OFF , IGNORE_DUP_KEY = OFF , STATISTICS_NORECOMPUTE = OFF , ONLINE = OFF , ALLOW_ROW_LOCKS = ON , ALLOW_PAGE_LOCKS = ON  )
	 ON [PRIMARY ]  GO;


-- ESIM.dbo.PESSOAJURIDICA foreign keys

ALTER TABLE ESIM.dbo.PESSOAJURIDICA ADD CONSTRAINT FK_PESSOAFISICA_RESPONSAVELCEI FOREIGN KEY (RESPONSAVELCEI_PESSOAID) REFERENCES ESIM.dbo.PESSOAFISICA(PESSOAID) GO
ALTER TABLE ESIM.dbo.PESSOAJURIDICA ADD CONSTRAINT FK_PESSOAJURIDICA_NATUREZAJURIDICA FOREIGN KEY (NATUREZAJURIDICAID) REFERENCES ESIM.dbo.NATUREZAJURIDICA(NATUREZAJURIDICAID) GO
ALTER TABLE ESIM.dbo.PESSOAJURIDICA ADD CONSTRAINT FK_PESSOAJURIDICA_PESSOA FOREIGN KEY (PESSOAID) REFERENCES ESIM.dbo.PESSOA(PESSOAID) GO
ALTER TABLE ESIM.dbo.PESSOAJURIDICA ADD CONSTRAINT FK_PESSOAJURIDICA_TIPOATIVIDADEECONOMICA FOREIGN KEY (TIPOATIVIDADEECONOMICAID) REFERENCES ESIM.dbo.TIPOATIVIDADEECONOMICA(TIPOATIVIDADEECONOMICAID) GO
ALTER TABLE ESIM.dbo.PESSOAJURIDICA ADD CONSTRAINT FK_PESSOAJURIDICA_TIPORAMOATIVIDADE FOREIGN KEY (TIPORAMOATIVIDADEID) REFERENCES ESIM.dbo.TIPORAMOATIVIDADE(TIPORAMOATIVIDADEID) GO;