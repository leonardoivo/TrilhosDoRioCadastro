-- ESIM.dbo.LOTEMOVIMENTACAOCOBRANCA definition

-- Drop table

-- DROP TABLE ESIM.dbo.LOTEMOVIMENTACAOCOBRANCA GO

CREATE TABLE ESIM.dbo.LOTEMOVIMENTACAOCOBRANCA (
	LOTEMOVIMENTACAOCOBRANCAID bigint IDENTITY(1,1) NOT NULL,
	CONVENIOID smallint NULL,
	TIPOLOTEMOVIMENTACAOCOBRANCAID smallint NULL,
	ANALITICAID bigint NULL,
	TIPOMOVIMENTACAOCOBRANCAID bigint NOT NULL,
	STATUSLOTEMOVIMENTACAOCOBRANCAID smallint DEFAULT 1 NOT NULL,
	SEQUENCIAL int NOT NULL,
	DATASTATUSLOTEMOVIMENTACAOCOBRANCA date DEFAULT '1980-01-01' NOT NULL,
	VALORLOTE numeric(14,2) DEFAULT 0 NOT NULL,
	VALORIOFBANCO numeric(14,2) DEFAULT 0 NOT NULL,
	DATAMOVIMENTACAO date NULL,
	NUMEROREMESSA int NULL,
	DATAIDENTIFICACAO date NULL,
	DATAESPERADACREDITO date NULL,
	VALORCUSTOCOBRANCA numeric(14,2) NULL,
	VALORLIQUIDO numeric(14,2) NULL,
	ORGAOCONSIGNANTE_PESSOAID int NULL,
	TIPORUBRICACOBRANCAID smallint NULL,
	COMPETENCIA date NULL,
	SEQUENCIA smallint NULL,
	CODIGOORGAOCONSIGNANTE int NULL,
	DESPESAEVENTUAL numeric(14,2) NULL,
	NOMEARQUIVO varchar(1000) COLLATE Latin1_General_CI_AI NULL,
	VALORARREDONDAMENTO numeric(14,2) DEFAULT 0 NOT NULL,
	CHAVEORDENACAO varchar(50) COLLATE Latin1_General_CI_AI NULL,
	CONSTRAINT PK_LOTEMOVIMENTACAOCOBRANCA PRIMARY KEY (LOTEMOVIMENTACAOCOBRANCAID)
) GO
 CREATE NONCLUSTERED INDEX IN_STATUSLOTEMOVIMENTACAOCOBRANCA_TIPOLOTEMOVIMENTACAOCOBRANCA_DATAESPERADACREDITO_ANALITICAID ON dbo.LOTEMOVIMENTACAOCOBRANCA (  STATUSLOTEMOVIMENTACAOCOBRANCAID ASC  , TIPOLOTEMOVIMENTACAOCOBRANCAID ASC  , DATAESPERADACREDITO ASC  , ANALITICAID ASC  )  
	 WITH (  PAD_INDEX = OFF ,FILLFACTOR = 100  ,SORT_IN_TEMPDB = OFF , IGNORE_DUP_KEY = OFF , STATISTICS_NORECOMPUTE = OFF , ONLINE = OFF , ALLOW_ROW_LOCKS = ON , ALLOW_PAGE_LOCKS = ON  )
	 ON [PRIMARY ]  GO
 CREATE NONCLUSTERED INDEX IN_STATUSLOTEMOVIMENTACAOCOBRANCA_TIPOLOTEMOVIMENTACAOCOBRANCA_DATAESPERADACREDITO_CONVENIOID_DATAMOVIMENTACAO ON dbo.LOTEMOVIMENTACAOCOBRANCA (  STATUSLOTEMOVIMENTACAOCOBRANCAID ASC  , TIPOLOTEMOVIMENTACAOCOBRANCAID ASC  , DATAESPERADACREDITO ASC  , CONVENIOID ASC  , DATAMOVIMENTACAO ASC  )  
	 WITH (  PAD_INDEX = OFF ,FILLFACTOR = 100  ,SORT_IN_TEMPDB = OFF , IGNORE_DUP_KEY = OFF , STATISTICS_NORECOMPUTE = OFF , ONLINE = OFF , ALLOW_ROW_LOCKS = ON , ALLOW_PAGE_LOCKS = ON  )
	 ON [PRIMARY ]  GO
 CREATE NONCLUSTERED INDEX IN_STATUSLOTEMOVIMENTACAOCOBRANCA_TIPOLOTEMOVIMENTACAOCOBRANCA_VALORLIQUIDO_ANALITICAID_ ON dbo.LOTEMOVIMENTACAOCOBRANCA (  STATUSLOTEMOVIMENTACAOCOBRANCAID ASC  , TIPOLOTEMOVIMENTACAOCOBRANCAID ASC  , VALORLIQUIDO ASC  , ANALITICAID ASC  )  
	 WITH (  PAD_INDEX = OFF ,FILLFACTOR = 100  ,SORT_IN_TEMPDB = OFF , IGNORE_DUP_KEY = OFF , STATISTICS_NORECOMPUTE = OFF , ONLINE = OFF , ALLOW_ROW_LOCKS = ON , ALLOW_PAGE_LOCKS = ON  )
	 ON [PRIMARY ]  GO
 CREATE NONCLUSTERED INDEX IN_STATUSLOTEMOVIMENTACAOCOBRANCA_TIPOLOTEMOVIMENTACAOCOBRANCA_VALORLIQUIDO_CONVENIOID_DATAMOVIMENTACAO ON dbo.LOTEMOVIMENTACAOCOBRANCA (  STATUSLOTEMOVIMENTACAOCOBRANCAID ASC  , TIPOLOTEMOVIMENTACAOCOBRANCAID ASC  , VALORLIQUIDO ASC  , CONVENIOID ASC  , DATAMOVIMENTACAO ASC  )  
	 WITH (  PAD_INDEX = OFF ,FILLFACTOR = 100  ,SORT_IN_TEMPDB = OFF , IGNORE_DUP_KEY = OFF , STATISTICS_NORECOMPUTE = OFF , ONLINE = OFF , ALLOW_ROW_LOCKS = ON , ALLOW_PAGE_LOCKS = ON  )
	 ON [PRIMARY ]  GO
 CREATE NONCLUSTERED INDEX IX_FK_LOTEMOVIMENTACAOCOBRANCA_ANALITICA ON dbo.LOTEMOVIMENTACAOCOBRANCA (  ANALITICAID ASC  )  
	 WITH (  PAD_INDEX = OFF ,FILLFACTOR = 100  ,SORT_IN_TEMPDB = OFF , IGNORE_DUP_KEY = OFF , STATISTICS_NORECOMPUTE = OFF , ONLINE = OFF , ALLOW_ROW_LOCKS = ON , ALLOW_PAGE_LOCKS = ON  )
	 ON [PRIMARY ]  GO
 CREATE NONCLUSTERED INDEX IX_FK_LOTEMOVIMENTACAOCOBRANCA_CONVENIO ON dbo.LOTEMOVIMENTACAOCOBRANCA (  CONVENIOID ASC  )  
	 WITH (  PAD_INDEX = OFF ,FILLFACTOR = 100  ,SORT_IN_TEMPDB = OFF , IGNORE_DUP_KEY = OFF , STATISTICS_NORECOMPUTE = OFF , ONLINE = OFF , ALLOW_ROW_LOCKS = ON , ALLOW_PAGE_LOCKS = ON  )
	 ON [PRIMARY ]  GO
 CREATE NONCLUSTERED INDEX IX_FK_LOTEMOVIMENTACAOCOBRANCA_STATUSLOTEMOVIMENTACAOCOBRANCA ON dbo.LOTEMOVIMENTACAOCOBRANCA (  STATUSLOTEMOVIMENTACAOCOBRANCAID ASC  )  
	 WITH (  PAD_INDEX = OFF ,FILLFACTOR = 100  ,SORT_IN_TEMPDB = OFF , IGNORE_DUP_KEY = OFF , STATISTICS_NORECOMPUTE = OFF , ONLINE = OFF , ALLOW_ROW_LOCKS = ON , ALLOW_PAGE_LOCKS = ON  )
	 ON [PRIMARY ]  GO
 CREATE NONCLUSTERED INDEX IX_FK_LOTEMOVIMENTACAOCOBRANCA_TIPOLOTEMOVIMENTACAOCOBRANCA ON dbo.LOTEMOVIMENTACAOCOBRANCA (  TIPOLOTEMOVIMENTACAOCOBRANCAID ASC  )  
	 WITH (  PAD_INDEX = OFF ,FILLFACTOR = 100  ,SORT_IN_TEMPDB = OFF , IGNORE_DUP_KEY = OFF , STATISTICS_NORECOMPUTE = OFF , ONLINE = OFF , ALLOW_ROW_LOCKS = ON , ALLOW_PAGE_LOCKS = ON  )
	 ON [PRIMARY ]  GO
 CREATE NONCLUSTERED INDEX IX_FK_LOTEMOVIMENTACAOCOBRANCA_TIPOMOVIMENTACAOCOBRANCA ON dbo.LOTEMOVIMENTACAOCOBRANCA (  TIPOMOVIMENTACAOCOBRANCAID ASC  )  
	 WITH (  PAD_INDEX = OFF ,FILLFACTOR = 100  ,SORT_IN_TEMPDB = OFF , IGNORE_DUP_KEY = OFF , STATISTICS_NORECOMPUTE = OFF , ONLINE = OFF , ALLOW_ROW_LOCKS = ON , ALLOW_PAGE_LOCKS = ON  )
	 ON [PRIMARY ]  GO;


-- ESIM.dbo.LOTEMOVIMENTACAOCOBRANCA foreign keys

ALTER TABLE ESIM.dbo.LOTEMOVIMENTACAOCOBRANCA ADD CONSTRAINT FK_LOTEMOVIMENTACAOCOBRANCA_ANALITICA FOREIGN KEY (ANALITICAID) REFERENCES ESIM.dbo.ANALITICA(ANALITICAID) GO
ALTER TABLE ESIM.dbo.LOTEMOVIMENTACAOCOBRANCA ADD CONSTRAINT FK_LOTEMOVIMENTACAOCOBRANCA_CONVENIO FOREIGN KEY (CONVENIOID) REFERENCES ESIM.dbo.CONVENIO(CONVENIOID) GO
ALTER TABLE ESIM.dbo.LOTEMOVIMENTACAOCOBRANCA ADD CONSTRAINT FK_LOTEMOVIMENTACAOCOBRANCA_STATUSLOTEMOVIMENTACAOCOBRANCA FOREIGN KEY (STATUSLOTEMOVIMENTACAOCOBRANCAID) REFERENCES ESIM.dbo.STATUSLOTEMOVIMENTACAOCOBRANCA(STATUSLOTEMOVIMENTACAOCOBRANCAID) GO
ALTER TABLE ESIM.dbo.LOTEMOVIMENTACAOCOBRANCA ADD CONSTRAINT FK_LOTEMOVIMENTACAOCOBRANCA_TIPOLOTEMOVIMENTACAOCOBRANCA FOREIGN KEY (TIPOLOTEMOVIMENTACAOCOBRANCAID) REFERENCES ESIM.dbo.TIPOLOTEMOVIMENTACAOCOBRANCA(TIPOLOTEMOVIMENTACAOCOBRANCAID) GO
ALTER TABLE ESIM.dbo.LOTEMOVIMENTACAOCOBRANCA ADD CONSTRAINT FK_LOTEMOVIMENTACAOCOBRANCA_TIPOMOVIMENTACAOCOBRANCA FOREIGN KEY (TIPOMOVIMENTACAOCOBRANCAID) REFERENCES ESIM.dbo.TIPOMOVIMENTACAOCOBRANCA(TIPOMOVIMENTACAOCOBRANCAID) GO;