-- ESIM.dbo.COMANDOCOBRANCA definition

-- Drop table

-- DROP TABLE ESIM.dbo.COMANDOCOBRANCA GO

CREATE TABLE ESIM.dbo.COMANDOCOBRANCA (
	COMANDOCOBRANCAID bigint IDENTITY(1,1) NOT NULL,
	GRUPOCOBRANCAID int NOT NULL,
	COMPETENCIA date NOT NULL,
	TIPORUBRICACOBRANCAID smallint NOT NULL,
	SEQUENCIA smallint NOT NULL,
	EMITIDO numeric(1,0) DEFAULT 0 NOT NULL,
	CONSTRAINT PK_COMANDOCOBRANCA PRIMARY KEY (COMANDOCOBRANCAID)
) GO
 CREATE  UNIQUE NONCLUSTERED INDEX IN_AK_COMANDOCOBRANCA ON dbo.COMANDOCOBRANCA (  COMPETENCIA ASC  , GRUPOCOBRANCAID ASC  , TIPORUBRICACOBRANCAID ASC  , SEQUENCIA ASC  )  
	 WITH (  PAD_INDEX = OFF ,FILLFACTOR = 100  ,SORT_IN_TEMPDB = OFF , IGNORE_DUP_KEY = OFF , STATISTICS_NORECOMPUTE = OFF , ONLINE = OFF , ALLOW_ROW_LOCKS = ON , ALLOW_PAGE_LOCKS = ON  )
	 ON [PRIMARY ]  GO
 CREATE NONCLUSTERED INDEX IX_FK_COMANDOCOBRANCA_GRUPOCOBRANCA ON dbo.COMANDOCOBRANCA (  GRUPOCOBRANCAID ASC  )  
	 WITH (  PAD_INDEX = OFF ,FILLFACTOR = 100  ,SORT_IN_TEMPDB = OFF , IGNORE_DUP_KEY = OFF , STATISTICS_NORECOMPUTE = OFF , ONLINE = OFF , ALLOW_ROW_LOCKS = ON , ALLOW_PAGE_LOCKS = ON  )
	 ON [PRIMARY ]  GO
 CREATE NONCLUSTERED INDEX IX_FK_COMANDOCOBRANCA_TIPORUBRICACOBRANCA ON dbo.COMANDOCOBRANCA (  TIPORUBRICACOBRANCAID ASC  )  
	 WITH (  PAD_INDEX = OFF ,FILLFACTOR = 100  ,SORT_IN_TEMPDB = OFF , IGNORE_DUP_KEY = OFF , STATISTICS_NORECOMPUTE = OFF , ONLINE = OFF , ALLOW_ROW_LOCKS = ON , ALLOW_PAGE_LOCKS = ON  )
	 ON [PRIMARY ]  GO;


-- ESIM.dbo.COMANDOCOBRANCA foreign keys

ALTER TABLE ESIM.dbo.COMANDOCOBRANCA ADD CONSTRAINT FK_COMANDOCOBRANCA_GRUPOCOBRANCA FOREIGN KEY (GRUPOCOBRANCAID) REFERENCES ESIM.dbo.GRUPOCOBRANCA(GRUPOCOBRANCAID) GO
ALTER TABLE ESIM.dbo.COMANDOCOBRANCA ADD CONSTRAINT FK_COMANDOCOBRANCA_TIPORUBRICACOBRANCA FOREIGN KEY (TIPORUBRICACOBRANCAID) REFERENCES ESIM.dbo.TIPORUBRICACOBRANCA(TIPORUBRICACOBRANCAID) GO;