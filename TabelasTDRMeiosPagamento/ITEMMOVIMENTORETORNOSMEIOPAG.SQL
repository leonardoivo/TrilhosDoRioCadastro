-- ESIM.dbo.ITEMMOVTORETORNOBOLETOREGISTRA definition

-- Drop table

-- DROP TABLE ESIM.dbo.ITEMMOVTORETORNOBOLETOREGISTRA GO

CREATE TABLE ESIM.dbo.ITEMMOVTORETORNOBOLETOREGISTRA (
	ITEMMOVTORETORNOID int NOT NULL,
	TIPOCALCULORATEIO smallint NULL,
	TIPOREFERENCIAVALOR smallint NULL,
	CODIGOBANCO1 smallint NULL,
	CODIGOAGENCIA1 int NULL,
	DIGITOAGENCIA1 varchar(1) COLLATE Latin1_General_CI_AI NULL,
	NUMEROCONTA1 int NULL,
	DIGITOCONTA1 varchar(2) COLLATE Latin1_General_CI_AI NULL,
	VALORRATEIO1 numeric(14,2) NULL,
	NOMEBENEFICIARIO1 varchar(150) COLLATE Latin1_General_CI_AI NULL,
	IDENTIFICACAOPARCELA1 varchar(10) COLLATE Latin1_General_CI_AI NULL,
	QTDEDIASCREDITO1 smallint NULL,
	DATACREDITO1 date NULL,
	STATUS1 smallint NULL,
	CODIGOBANCO2 smallint NULL,
	CODIGOAGENCIA2 int NULL,
	DIGITOAGENCIA2 varchar(1) COLLATE Latin1_General_CI_AI NULL,
	NUMEROCONTA2 int NULL,
	DIGITOCONTA2 varchar(2) COLLATE Latin1_General_CI_AI NULL,
	VALORRATEIO2 numeric(14,2) NULL,
	NOMEBENEFICIARIO2 varchar(150) COLLATE Latin1_General_CI_AI NULL,
	IDENTIFICACAOPARCELA2 varchar(10) COLLATE Latin1_General_CI_AI NULL,
	QTDEDIASCREDITO2 smallint NULL,
	DATACREDITO2 date NULL,
	STATUS2 smallint NULL,
	CODIGOBANCO3 smallint NULL,
	CODIGOAGENCIA3 int NULL,
	DIGITOAGENCIA3 varchar(1) COLLATE Latin1_General_CI_AI NULL,
	NUMEROCONTA3 int NULL,
	DIGITOCONTA3 varchar(2) COLLATE Latin1_General_CI_AI NULL,
	VALORRATEIO3 numeric(14,2) NULL,
	NOMEBENEFICIARIO3 varchar(150) COLLATE Latin1_General_CI_AI NULL,
	IDENTIFICACAOPARCELA3 varchar(10) COLLATE Latin1_General_CI_AI NULL,
	QTDEDIASCREDITO3 smallint NULL,
	DATACREDITO3 date NULL,
	STATUS3 smallint NULL,
	VALORIOFRETIDO numeric(14,2) NULL,
	CONVENIOID smallint DEFAULT 68 NOT NULL,
	CONSTRAINT PK_ITEMMOVTORETORNOBOLETOREGISTRA PRIMARY KEY (ITEMMOVTORETORNOID)
) GO
 CREATE NONCLUSTERED INDEX IX_FK_ITEMMOVTORETORNOBOLETOREGISTRA_CONVENIOBOLETOREGISTRADO ON dbo.ITEMMOVTORETORNOBOLETOREGISTRA (  CONVENIOID ASC  )  
	 WITH (  PAD_INDEX = OFF ,FILLFACTOR = 100  ,SORT_IN_TEMPDB = OFF , IGNORE_DUP_KEY = OFF , STATISTICS_NORECOMPUTE = OFF , ONLINE = OFF , ALLOW_ROW_LOCKS = ON , ALLOW_PAGE_LOCKS = ON  )
	 ON [PRIMARY ]  GO;


-- ESIM.dbo.ITEMMOVTORETORNOCONSIGNACAO definition

-- Drop table

-- DROP TABLE ESIM.dbo.ITEMMOVTORETORNOCONSIGNACAO GO

CREATE TABLE ESIM.dbo.ITEMMOVTORETORNOCONSIGNACAO (
	ITEMMOVTORETORNOID int NOT NULL,
	ITEMMOVTOCOBRANCAID int NULL,
	MATRICULAFUNCIONARIO varchar(30) COLLATE Latin1_General_CI_AI NULL,
	SEQUENCIADESCONTO smallint NULL,
	SEQUENCIAVERBA smallint NULL,
	RUBRICA varchar(10) COLLATE Latin1_General_CI_AI NULL,
	CONSTRAINT PK_ITEMMOVTORETORNOCONSIGNACAO PRIMARY KEY (ITEMMOVTORETORNOID)
) GO
 CREATE NONCLUSTERED INDEX IX_FK_ITEMMOVTRC_MOVTOCOBC ON dbo.ITEMMOVTORETORNOCONSIGNACAO (  ITEMMOVTOCOBRANCAID ASC  )  
	 WITH (  PAD_INDEX = OFF ,FILLFACTOR = 100  ,SORT_IN_TEMPDB = OFF , IGNORE_DUP_KEY = OFF , STATISTICS_NORECOMPUTE = OFF , ONLINE = OFF , ALLOW_ROW_LOCKS = ON , ALLOW_PAGE_LOCKS = ON  )
	 ON [PRIMARY ]  GO;


-- ESIM.dbo.ITEMMOVTORETORNODEBITOCONTA definition

-- Drop table

-- DROP TABLE ESIM.dbo.ITEMMOVTORETORNODEBITOCONTA GO

CREATE TABLE ESIM.dbo.ITEMMOVTORETORNODEBITOCONTA (
	ITEMMOVTORETORNOID int NOT NULL,
	ITEMMOVTOCOBRANCAID int NULL,
	DATAPAGAMENTO date NULL,
	BANCO smallint NULL,
	AGENCIA smallint NULL,
	DVAGENCIA varchar(2) COLLATE Latin1_General_CI_AI NULL,
	CONTACORRENTE bigint NULL,
	DVCONTACORRENTE varchar(2) COLLATE Latin1_General_CI_AI NULL,
	CPF bigint NULL,
	USODAEMPRESA varchar(100) COLLATE Latin1_General_CI_AI NULL,
	NOSSONUMERO varchar(20) COLLATE Latin1_General_CI_AI NULL,
	VALORDOCUMENTO numeric(14,2) NULL,
	OUTRASDEDUCOES numeric(14,2) NULL,
	MORAMULTA numeric(14,2) NULL,
	OUTROSACRESCIMOS numeric(14,2) NULL,
	DESPESA numeric(14,2) NULL,
	JUROSATRASO numeric(14,2) NULL,
	DESCONTO numeric(14,2) NULL,
	ABATIMENTO numeric(14,2) NULL,
	MOTIVOREJEICAO varchar(10) COLLATE Latin1_General_CI_AI NULL,
	VALORIOFRETIDO numeric(14,2) NULL,
	CONSTRAINT PK_ITEMMOVTORETORNODEBITOCONTA PRIMARY KEY (ITEMMOVTORETORNOID)
) GO
 CREATE NONCLUSTERED INDEX IX_FK_ITEMMOVTRDC_ITEMMOVTCDC ON dbo.ITEMMOVTORETORNODEBITOCONTA (  ITEMMOVTOCOBRANCAID ASC  )  
	 WITH (  PAD_INDEX = OFF ,FILLFACTOR = 100  ,SORT_IN_TEMPDB = OFF , IGNORE_DUP_KEY = OFF , STATISTICS_NORECOMPUTE = OFF , ONLINE = OFF , ALLOW_ROW_LOCKS = ON , ALLOW_PAGE_LOCKS = ON  )
	 ON [PRIMARY ]  GO;


-- ESIM.dbo.ITEMMOVTORETORNONAOCONCILIADO definition

-- Drop table

-- DROP TABLE ESIM.dbo.ITEMMOVTORETORNONAOCONCILIADO GO

CREATE TABLE ESIM.dbo.ITEMMOVTORETORNONAOCONCILIADO (
	ITEMMOVTORETORNONAOCONCILIADOID int IDENTITY(1,1) NOT NULL,
	ORIGEMITEMCOBRANCAID smallint NULL,
	ITEMMOVTORETORNOID int NULL,
	TIPOMOTIVONAOCONCILIADOID smallint NOT NULL,
	DATAINCLUSAOPAGAMENTO date NULL,
	DATACREDITO date NULL,
	CPF bigint NULL,
	NOME varchar(200) COLLATE Latin1_General_CI_AI NULL,
	VALOR numeric(14,2) NULL,
	STATUSCONCILIACAOID smallint NULL,
	ITEMCOBRANCAID bigint NULL,
	CONSTRAINT PK_ITEMMOVTORETORNONAOCONCILIADO PRIMARY KEY (ITEMMOVTORETORNONAOCONCILIADOID)
) GO
 CREATE NONCLUSTERED INDEX IX_FK_ITEMMOVTORETORNONAOCONCILIADO_ITEMCOBRANCA ON dbo.ITEMMOVTORETORNONAOCONCILIADO (  ITEMCOBRANCAID ASC  )  
	 WITH (  PAD_INDEX = OFF ,FILLFACTOR = 100  ,SORT_IN_TEMPDB = OFF , IGNORE_DUP_KEY = OFF , STATISTICS_NORECOMPUTE = OFF , ONLINE = OFF , ALLOW_ROW_LOCKS = ON , ALLOW_PAGE_LOCKS = ON  )
	 ON [PRIMARY ]  GO
 CREATE NONCLUSTERED INDEX IX_FK_ITEMMOVTORETORNONAOCONCILIADO_ITEMMOVTORETORNO ON dbo.ITEMMOVTORETORNONAOCONCILIADO (  ITEMMOVTORETORNOID ASC  )  
	 WITH (  PAD_INDEX = OFF ,FILLFACTOR = 100  ,SORT_IN_TEMPDB = OFF , IGNORE_DUP_KEY = OFF , STATISTICS_NORECOMPUTE = OFF , ONLINE = OFF , ALLOW_ROW_LOCKS = ON , ALLOW_PAGE_LOCKS = ON  )
	 ON [PRIMARY ]  GO
 CREATE NONCLUSTERED INDEX IX_FK_ITEMMOVTORETORNONAOCONCILIADO_ORIGEMITEMCOBRANCA ON dbo.ITEMMOVTORETORNONAOCONCILIADO (  ORIGEMITEMCOBRANCAID ASC  )  
	 WITH (  PAD_INDEX = OFF ,FILLFACTOR = 100  ,SORT_IN_TEMPDB = OFF , IGNORE_DUP_KEY = OFF , STATISTICS_NORECOMPUTE = OFF , ONLINE = OFF , ALLOW_ROW_LOCKS = ON , ALLOW_PAGE_LOCKS = ON  )
	 ON [PRIMARY ]  GO
 CREATE NONCLUSTERED INDEX IX_FK_ITEMMOVTORETORNONAOCONCILIADO_STATUSCONCILIACAO ON dbo.ITEMMOVTORETORNONAOCONCILIADO (  STATUSCONCILIACAOID ASC  )  
	 WITH (  PAD_INDEX = OFF ,FILLFACTOR = 100  ,SORT_IN_TEMPDB = OFF , IGNORE_DUP_KEY = OFF , STATISTICS_NORECOMPUTE = OFF , ONLINE = OFF , ALLOW_ROW_LOCKS = ON , ALLOW_PAGE_LOCKS = ON  )
	 ON [PRIMARY ]  GO
 CREATE NONCLUSTERED INDEX IX_FK_ITEMMOVTORETORNONAOCONCILIADO_TIPOMOTIVONAOCONCILIADO ON dbo.ITEMMOVTORETORNONAOCONCILIADO (  TIPOMOTIVONAOCONCILIADOID ASC  )  
	 WITH (  PAD_INDEX = OFF ,FILLFACTOR = 100  ,SORT_IN_TEMPDB = OFF , IGNORE_DUP_KEY = OFF , STATISTICS_NORECOMPUTE = OFF , ONLINE = OFF , ALLOW_ROW_LOCKS = ON , ALLOW_PAGE_LOCKS = ON  )
	 ON [PRIMARY ]  GO;


-- ESIM.dbo.ITEMMOVTORETORNOBOLETOREGISTRA foreign keys

ALTER TABLE ESIM.dbo.ITEMMOVTORETORNOBOLETOREGISTRA ADD CONSTRAINT FK_ITEMMOVTORETORNOBOLETOREGISTRA_CONVENIOBOLETOREGISTRADO FOREIGN KEY (CONVENIOID) REFERENCES ESIM.dbo.CONVENIOBOLETOREGISTRADO(CONVENIOID) GO
ALTER TABLE ESIM.dbo.ITEMMOVTORETORNOBOLETOREGISTRA ADD CONSTRAINT FK_ITEMMOVTRBR_ITEMMOVTRB FOREIGN KEY (ITEMMOVTORETORNOID) REFERENCES ESIM.dbo.ITEMMOVTORETORNOBOLETO(ITEMMOVTORETORNOID) GO;


-- ESIM.dbo.ITEMMOVTORETORNOCONSIGNACAO foreign keys

ALTER TABLE ESIM.dbo.ITEMMOVTORETORNOCONSIGNACAO ADD CONSTRAINT FK_ITEMMOVTRC_ITEMMOVTR FOREIGN KEY (ITEMMOVTORETORNOID) REFERENCES ESIM.dbo.ITEMMOVTORETORNO(ITEMMOVTORETORNOID) GO
ALTER TABLE ESIM.dbo.ITEMMOVTORETORNOCONSIGNACAO ADD CONSTRAINT FK_ITEMMOVTRC_MOVTOCOBC FOREIGN KEY (ITEMMOVTOCOBRANCAID) REFERENCES ESIM.dbo.ITEMMOVTOCOBRANCACONSIGNACAO(ITEMMOVTOCOBRANCAID) GO;


-- ESIM.dbo.ITEMMOVTORETORNODEBITOCONTA foreign keys

ALTER TABLE ESIM.dbo.ITEMMOVTORETORNODEBITOCONTA ADD CONSTRAINT FK_ITEMMOVTRDC_ITEMMOVTCDC FOREIGN KEY (ITEMMOVTOCOBRANCAID) REFERENCES ESIM.dbo.ITEMMOVTOCOBRANCADEBITOCONTA(ITEMMOVTOCOBRANCAID) GO
ALTER TABLE ESIM.dbo.ITEMMOVTORETORNODEBITOCONTA ADD CONSTRAINT FK_ITEMMOVTRDC_ITEMMOVTR FOREIGN KEY (ITEMMOVTORETORNOID) REFERENCES ESIM.dbo.ITEMMOVTORETORNO(ITEMMOVTORETORNOID) GO;


-- ESIM.dbo.ITEMMOVTORETORNONAOCONCILIADO foreign keys

ALTER TABLE ESIM.dbo.ITEMMOVTORETORNONAOCONCILIADO ADD CONSTRAINT FK_ITEMMOVTORETORNONAOCONCILIADO_ITEMCOBRANCA FOREIGN KEY (ITEMCOBRANCAID) REFERENCES ESIM.dbo.ITEMCOBRANCA(ITEMCOBRANCAID) GO
ALTER TABLE ESIM.dbo.ITEMMOVTORETORNONAOCONCILIADO ADD CONSTRAINT FK_ITEMMOVTORETORNONAOCONCILIADO_ITEMMOVTORETORNO FOREIGN KEY (ITEMMOVTORETORNOID) REFERENCES ESIM.dbo.ITEMMOVTORETORNO(ITEMMOVTORETORNOID) GO
ALTER TABLE ESIM.dbo.ITEMMOVTORETORNONAOCONCILIADO ADD CONSTRAINT FK_ITEMMOVTORETORNONAOCONCILIADO_ORIGEMITEMCOBRANCA FOREIGN KEY (ORIGEMITEMCOBRANCAID) REFERENCES ESIM.dbo.ORIGEMITEMCOBRANCA(ORIGEMITEMCOBRANCAID) GO
ALTER TABLE ESIM.dbo.ITEMMOVTORETORNONAOCONCILIADO ADD CONSTRAINT FK_ITEMMOVTORETORNONAOCONCILIADO_STATUSCONCILIACAO FOREIGN KEY (STATUSCONCILIACAOID) REFERENCES ESIM.dbo.STATUSCONCILIACAO(STATUSCONCILIACAOID) GO
ALTER TABLE ESIM.dbo.ITEMMOVTORETORNONAOCONCILIADO ADD CONSTRAINT FK_ITEMMOVTORETORNONAOCONCILIADO_TIPOMOTIVONAOCONCILIADO FOREIGN KEY (TIPOMOTIVONAOCONCILIADOID) REFERENCES ESIM.dbo.TIPOMOTIVONAOCONCILIADO(TIPOMOTIVONAOCONCILIADOID) GO;