-- ESIM.dbo.CONTAARRECADACAO definition

-- Drop table

-- DROP TABLE ESIM.dbo.CONTAARRECADACAO GO

CREATE TABLE ESIM.dbo.CONTAARRECADACAO (
	CONTAARRECADACAOID smallint IDENTITY(1,1) NOT NULL,
	AGENCIAARRECADACAOID smallint NULL,
	OBJETIVOCONTAARRECADACAOID smallint NOT NULL,
	TIPOCONTAARRECADACAOID smallint NOT NULL,
	STATUSCONTAARRECADACAOID smallint NOT NULL,
	NUMEROCONTA bigint NULL,
	DVCONTA varchar(2) COLLATE Latin1_General_CI_AI NULL,
	VALORTARIFA numeric(5,0) NULL,
	POSSUICONTRATO smallint NULL,
	OBSERVACAOCONTRATO varchar(500) COLLATE Latin1_General_CI_AI NULL,
	DATAABERTURA date NULL,
	CONTANAOARRECADACAO numeric(1,0) DEFAULT 0 NULL,
	IMPORTAARQUIVO numeric(1,0) DEFAULT 0 NOT NULL,
	DATASTATUS date DEFAULT '1980-01-01' NOT NULL,
	HORASTATUS time(7) DEFAULT '12.00.00' NOT NULL,
	USUARIOID int DEFAULT 6 NOT NULL,
	IDEXTERNO bigint NULL,
	MIGRACAOXB numeric(1,0) NULL,
	CONSTRAINT PK_CONTAARRECADACAO PRIMARY KEY (CONTAARRECADACAOID)
) GO
 CREATE NONCLUSTERED INDEX IX_FK_CONTAARRECADACAO_AGENCIAARRECADACAO ON dbo.CONTAARRECADACAO (  AGENCIAARRECADACAOID ASC  )  
	 WITH (  PAD_INDEX = OFF ,FILLFACTOR = 100  ,SORT_IN_TEMPDB = OFF , IGNORE_DUP_KEY = OFF , STATISTICS_NORECOMPUTE = OFF , ONLINE = OFF , ALLOW_ROW_LOCKS = ON , ALLOW_PAGE_LOCKS = ON  )
	 ON [PRIMARY ]  GO
 CREATE NONCLUSTERED INDEX IX_FK_CONTAARRECADACAO_OBJETIVOCONTAARRECADACAO ON dbo.CONTAARRECADACAO (  OBJETIVOCONTAARRECADACAOID ASC  )  
	 WITH (  PAD_INDEX = OFF ,FILLFACTOR = 100  ,SORT_IN_TEMPDB = OFF , IGNORE_DUP_KEY = OFF , STATISTICS_NORECOMPUTE = OFF , ONLINE = OFF , ALLOW_ROW_LOCKS = ON , ALLOW_PAGE_LOCKS = ON  )
	 ON [PRIMARY ]  GO
 CREATE NONCLUSTERED INDEX IX_FK_CONTAARRECADACAO_STATUSCONTAARRECADACAO ON dbo.CONTAARRECADACAO (  STATUSCONTAARRECADACAOID ASC  )  
	 WITH (  PAD_INDEX = OFF ,FILLFACTOR = 100  ,SORT_IN_TEMPDB = OFF , IGNORE_DUP_KEY = OFF , STATISTICS_NORECOMPUTE = OFF , ONLINE = OFF , ALLOW_ROW_LOCKS = ON , ALLOW_PAGE_LOCKS = ON  )
	 ON [PRIMARY ]  GO
 CREATE NONCLUSTERED INDEX IX_FK_CONTAARRECADACAO_TIPOCONTAARRECADACAO ON dbo.CONTAARRECADACAO (  TIPOCONTAARRECADACAOID ASC  )  
	 WITH (  PAD_INDEX = OFF ,FILLFACTOR = 100  ,SORT_IN_TEMPDB = OFF , IGNORE_DUP_KEY = OFF , STATISTICS_NORECOMPUTE = OFF , ONLINE = OFF , ALLOW_ROW_LOCKS = ON , ALLOW_PAGE_LOCKS = ON  )
	 ON [PRIMARY ]  GO
 CREATE NONCLUSTERED INDEX IX_FK_CONTAARRECADACAO_USUARIO ON dbo.CONTAARRECADACAO (  USUARIOID ASC  )  
	 WITH (  PAD_INDEX = OFF ,FILLFACTOR = 100  ,SORT_IN_TEMPDB = OFF , IGNORE_DUP_KEY = OFF , STATISTICS_NORECOMPUTE = OFF , ONLINE = OFF , ALLOW_ROW_LOCKS = ON , ALLOW_PAGE_LOCKS = ON  )
	 ON [PRIMARY ]  GO;


-- ESIM.dbo.CONTAARRECADACAO foreign keys

ALTER TABLE ESIM.dbo.CONTAARRECADACAO ADD CONSTRAINT FK_CONTAARRECADACAO_AGENCIAARRECADACAO FOREIGN KEY (AGENCIAARRECADACAOID) REFERENCES ESIM.dbo.AGENCIAARRECADACAO(AGENCIAARRECADACAOID) GO
ALTER TABLE ESIM.dbo.CONTAARRECADACAO ADD CONSTRAINT FK_CONTAARRECADACAO_OBJETIVOCONTAARRECADACAO FOREIGN KEY (OBJETIVOCONTAARRECADACAOID) REFERENCES ESIM.dbo.OBJETIVOCONTAARRECADACAO(OBJETIVOCONTAARRECADACAOID) GO
ALTER TABLE ESIM.dbo.CONTAARRECADACAO ADD CONSTRAINT FK_CONTAARRECADACAO_STATUSCONTAARRECADACAO FOREIGN KEY (STATUSCONTAARRECADACAOID) REFERENCES ESIM.dbo.STATUSCONTAARRECADACAO(STATUSCONTAARRECADACAOID) GO
ALTER TABLE ESIM.dbo.CONTAARRECADACAO ADD CONSTRAINT FK_CONTAARRECADACAO_TIPOCONTAARRECADACAO FOREIGN KEY (TIPOCONTAARRECADACAOID) REFERENCES ESIM.dbo.TIPOCONTAARRECADACAO(TIPOCONTAARRECADACAOID) GO
ALTER TABLE ESIM.dbo.CONTAARRECADACAO ADD CONSTRAINT FK_CONTAARRECADACAO_USUARIO FOREIGN KEY (USUARIOID) REFERENCES ESIM.dbo.USUARIO(USUARIOID) GO;