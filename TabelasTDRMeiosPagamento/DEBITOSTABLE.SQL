-- ESIM.dbo.DEBITOCONTA definition

-- Drop table

-- DROP TABLE ESIM.dbo.DEBITOCONTA GO

CREATE TABLE ESIM.dbo.DEBITOCONTA (
	CONVENIOID smallint NOT NULL,
	TIPOQTDECOMANDOCANCELAMENTO_TI smallint NULL,
	TIPOQTDEENVIOARQUIVOCONVENIO_T smallint NULL,
	TIPOQTDEENVIOARQUIVOPRATICA_TI smallint NULL,
	CODIGOOPERACAOCONTA varchar(10) COLLATE Latin1_General_CI_AI NULL,
	CRITICACPF smallint NULL,
	HISTORICOEXTRATOCLIENTE varchar(50) COLLATE Latin1_General_CI_AI NULL,
	QTDETEIMOSINHA smallint NULL,
	COBRATEIMOSINHA smallint NULL,
	DIASVENCIMENTODEBITOPROGRAMADO smallint NULL,
	TEMCOMANDOCANCELAMENTO smallint NULL,
	QTDEDIASCOMANDOCANCELAMENTO smallint NULL,
	ARQUIVOREMESSA smallint NULL,
	ARQUIVORETORNO smallint NULL,
	ARQUIVOCRITICA smallint NULL,
	ARQUIVOCANCELAMENTO smallint NULL,
	QTDEDIASENVIOARQUIVOCONVENIO smallint NULL,
	QTDEDIASENVIOARQUIVOPRATICA smallint NULL,
	CONVENIOPADRAOBANCO smallint NULL,
	PROXIMOVENCIMENTO date NULL,
	DATAREFERENCIAPROXIMOVENCIMENT date NULL,
	CONCATENADVNUMEROCONTA numeric(1,0) DEFAULT 0 NULL,
	QTDEDIASRETORNOARQUIVOCONVENIO smallint NULL,
	TIPOQTDERETORNOARQUIVOCONVENIO_TIPOQTDEDIASID smallint NULL,
	QTDEDIASRETORNOARQUIVOPRATICA smallint NULL,
	TIPOQTDERETORNOARQUIVOPRATICA_TIPOQTDEDIASID smallint NULL,
	AUTORIZACAODEBITO numeric(1,0) DEFAULT 0 NULL,
	REMISSAOAUTOMATICA numeric(1,0) DEFAULT 0 NULL,
	QUANTIDADEDIASVENCIMENTO smallint NULL,
	FORMACOBRANCAREEMISSAOAUTOMATICA smallint NULL,
	QTDREEMISSAOAUTOMATICA smallint NULL,
	CONSTRAINT PK_DEBITOCONTA PRIMARY KEY (CONVENIOID)
) GO
 CREATE NONCLUSTERED INDEX IX_FK_DEBITOCONTA_TIPOQTDEDIASRETORNOCONVENIO ON dbo.DEBITOCONTA (  TIPOQTDERETORNOARQUIVOCONVENIO_TIPOQTDEDIASID ASC  )  
	 WITH (  PAD_INDEX = OFF ,FILLFACTOR = 100  ,SORT_IN_TEMPDB = OFF , IGNORE_DUP_KEY = OFF , STATISTICS_NORECOMPUTE = OFF , ONLINE = OFF , ALLOW_ROW_LOCKS = ON , ALLOW_PAGE_LOCKS = ON  )
	 ON [PRIMARY ]  GO
 CREATE NONCLUSTERED INDEX IX_FK_DEBITOCONTA_TIPOQTDEDIASRETORNOPRATICA ON dbo.DEBITOCONTA (  TIPOQTDERETORNOARQUIVOPRATICA_TIPOQTDEDIASID ASC  )  
	 WITH (  PAD_INDEX = OFF ,FILLFACTOR = 100  ,SORT_IN_TEMPDB = OFF , IGNORE_DUP_KEY = OFF , STATISTICS_NORECOMPUTE = OFF , ONLINE = OFF , ALLOW_ROW_LOCKS = ON , ALLOW_PAGE_LOCKS = ON  )
	 ON [PRIMARY ]  GO
 CREATE NONCLUSTERED INDEX IX_FK_DEBITOCO_TIPOQTDE_ENVIOARQ ON dbo.DEBITOCONTA (  TIPOQTDEENVIOARQUIVOCONVENIO_T ASC  )  
	 WITH (  PAD_INDEX = OFF ,FILLFACTOR = 100  ,SORT_IN_TEMPDB = OFF , IGNORE_DUP_KEY = OFF , STATISTICS_NORECOMPUTE = OFF , ONLINE = OFF , ALLOW_ROW_LOCKS = ON , ALLOW_PAGE_LOCKS = ON  )
	 ON [PRIMARY ]  GO
 CREATE NONCLUSTERED INDEX IX_FK_DEBITOCO_TIPOQTDE_ENVIOARQ2 ON dbo.DEBITOCONTA (  TIPOQTDEENVIOARQUIVOPRATICA_TI ASC  )  
	 WITH (  PAD_INDEX = OFF ,FILLFACTOR = 100  ,SORT_IN_TEMPDB = OFF , IGNORE_DUP_KEY = OFF , STATISTICS_NORECOMPUTE = OFF , ONLINE = OFF , ALLOW_ROW_LOCKS = ON , ALLOW_PAGE_LOCKS = ON  )
	 ON [PRIMARY ]  GO
 CREATE NONCLUSTERED INDEX IX_FK_DEBITOCO_TIPOQTDE_ENVIOARQ3 ON dbo.DEBITOCONTA (  TIPOQTDECOMANDOCANCELAMENTO_TI ASC  )  
	 WITH (  PAD_INDEX = OFF ,FILLFACTOR = 100  ,SORT_IN_TEMPDB = OFF , IGNORE_DUP_KEY = OFF , STATISTICS_NORECOMPUTE = OFF , ONLINE = OFF , ALLOW_ROW_LOCKS = ON , ALLOW_PAGE_LOCKS = ON  )
	 ON [PRIMARY ]  GO;


-- ESIM.dbo.DEBITOCONTAPADRAOBANCO definition

-- Drop table

-- DROP TABLE ESIM.dbo.DEBITOCONTAPADRAOBANCO GO

CREATE TABLE ESIM.dbo.DEBITOCONTAPADRAOBANCO (
	DEBITOCONTAPADRAOBANCOID int IDENTITY(1,1) NOT NULL,
	ORIGEMITEMCOBRANCAID smallint NOT NULL,
	CONVENIOID smallint NOT NULL,
	BANCO_PESSOAID int DEFAULT 0 NOT NULL,
	CONSTRAINT PK_DEBITOCONTAPADRAOBANCO PRIMARY KEY (DEBITOCONTAPADRAOBANCOID)
) GO
 CREATE NONCLUSTERED INDEX IX_FK_DEBITOCONTAPADRAOBANCO_BANCO ON dbo.DEBITOCONTAPADRAOBANCO (  BANCO_PESSOAID ASC  )  
	 WITH (  PAD_INDEX = OFF ,FILLFACTOR = 100  ,SORT_IN_TEMPDB = OFF , IGNORE_DUP_KEY = OFF , STATISTICS_NORECOMPUTE = OFF , ONLINE = OFF , ALLOW_ROW_LOCKS = ON , ALLOW_PAGE_LOCKS = ON  )
	 ON [PRIMARY ]  GO
 CREATE NONCLUSTERED INDEX IX_FK_DEBITOCONTAPADRAOBANCO_DEBITOCONTA ON dbo.DEBITOCONTAPADRAOBANCO (  CONVENIOID ASC  )  
	 WITH (  PAD_INDEX = OFF ,FILLFACTOR = 100  ,SORT_IN_TEMPDB = OFF , IGNORE_DUP_KEY = OFF , STATISTICS_NORECOMPUTE = OFF , ONLINE = OFF , ALLOW_ROW_LOCKS = ON , ALLOW_PAGE_LOCKS = ON  )
	 ON [PRIMARY ]  GO
 CREATE NONCLUSTERED INDEX IX_FK_DEBITOCONTAPADRAOBANCO_ORIGEMITEMCOBRANCA ON dbo.DEBITOCONTAPADRAOBANCO (  ORIGEMITEMCOBRANCAID ASC  )  
	 WITH (  PAD_INDEX = OFF ,FILLFACTOR = 100  ,SORT_IN_TEMPDB = OFF , IGNORE_DUP_KEY = OFF , STATISTICS_NORECOMPUTE = OFF , ONLINE = OFF , ALLOW_ROW_LOCKS = ON , ALLOW_PAGE_LOCKS = ON  )
	 ON [PRIMARY ]  GO;


-- ESIM.dbo.DEBITOCONTATIPOCORRENTISTA definition

-- Drop table

-- DROP TABLE ESIM.dbo.DEBITOCONTATIPOCORRENTISTA GO

CREATE TABLE ESIM.dbo.DEBITOCONTATIPOCORRENTISTA (
	CONVENIOID smallint NOT NULL,
	TIPOCONTACORRENTEID smallint NOT NULL,
	PESSOAFISICA smallint NULL,
	PESSOAJURIDICA smallint NULL,
	CONSTRAINT PK_DEBITOCONTATIPOCORRENTISTA PRIMARY KEY (CONVENIOID,TIPOCONTACORRENTEID)
) GO
 CREATE NONCLUSTERED INDEX IX_FK_DEBITOCONTATIPOCORRENTISTA_DEBITOCONTA ON dbo.DEBITOCONTATIPOCORRENTISTA (  CONVENIOID ASC  )  
	 WITH (  PAD_INDEX = OFF ,FILLFACTOR = 100  ,SORT_IN_TEMPDB = OFF , IGNORE_DUP_KEY = OFF , STATISTICS_NORECOMPUTE = OFF , ONLINE = OFF , ALLOW_ROW_LOCKS = ON , ALLOW_PAGE_LOCKS = ON  )
	 ON [PRIMARY ]  GO
 CREATE NONCLUSTERED INDEX IX_FK_DEBITOCONTATI_TIPOCONTACORR ON dbo.DEBITOCONTATIPOCORRENTISTA (  TIPOCONTACORRENTEID ASC  )  
	 WITH (  PAD_INDEX = OFF ,FILLFACTOR = 100  ,SORT_IN_TEMPDB = OFF , IGNORE_DUP_KEY = OFF , STATISTICS_NORECOMPUTE = OFF , ONLINE = OFF , ALLOW_ROW_LOCKS = ON , ALLOW_PAGE_LOCKS = ON  )
	 ON [PRIMARY ]  GO;


-- ESIM.dbo.DEBITOPROGRAMADOBANCO definition

-- Drop table

-- DROP TABLE ESIM.dbo.DEBITOPROGRAMADOBANCO GO

CREATE TABLE ESIM.dbo.DEBITOPROGRAMADOBANCO (
	DEBITOPROGRAMADOBANCOID int IDENTITY(1,1) NOT NULL,
	BANCO_PESSOAID int NOT NULL,
	ORGAOCONSIGNANTE_PESSOAID int NOT NULL,
	CONSTRAINT PK_DEBITOPROGRAMADOBANCO PRIMARY KEY (DEBITOPROGRAMADOBANCOID)
) GO
 CREATE NONCLUSTERED INDEX IX_FK_DEBITOPROGRAMADOBANCO_BANCO ON dbo.DEBITOPROGRAMADOBANCO (  BANCO_PESSOAID ASC  )  
	 WITH (  PAD_INDEX = OFF ,FILLFACTOR = 100  ,SORT_IN_TEMPDB = OFF , IGNORE_DUP_KEY = OFF , STATISTICS_NORECOMPUTE = OFF , ONLINE = OFF , ALLOW_ROW_LOCKS = ON , ALLOW_PAGE_LOCKS = ON  )
	 ON [PRIMARY ]  GO
 CREATE NONCLUSTERED INDEX IX_FK_DEBITOPROGRAMADOBANCO_ORGAOCONSIGNANTE ON dbo.DEBITOPROGRAMADOBANCO (  ORGAOCONSIGNANTE_PESSOAID ASC  )  
	 WITH (  PAD_INDEX = OFF ,FILLFACTOR = 100  ,SORT_IN_TEMPDB = OFF , IGNORE_DUP_KEY = OFF , STATISTICS_NORECOMPUTE = OFF , ONLINE = OFF , ALLOW_ROW_LOCKS = ON , ALLOW_PAGE_LOCKS = ON  )
	 ON [PRIMARY ]  GO;


-- ESIM.dbo.DEBITOCONTA foreign keys

ALTER TABLE ESIM.dbo.DEBITOCONTA ADD CONSTRAINT FK_DEBITOCONTA_CONVENIOBANCARIO FOREIGN KEY (CONVENIOID) REFERENCES ESIM.dbo.CONVENIOBANCARIO(CONVENIOID) GO
ALTER TABLE ESIM.dbo.DEBITOCONTA ADD CONSTRAINT FK_DEBITOCONTA_TIPOQTDEDIASRETORNOCONVENIO FOREIGN KEY (TIPOQTDERETORNOARQUIVOCONVENIO_TIPOQTDEDIASID) REFERENCES ESIM.dbo.TIPOQTDEDIAS(TIPOQTDEDIASID) GO
ALTER TABLE ESIM.dbo.DEBITOCONTA ADD CONSTRAINT FK_DEBITOCONTA_TIPOQTDEDIASRETORNOPRATICA FOREIGN KEY (TIPOQTDERETORNOARQUIVOPRATICA_TIPOQTDEDIASID) REFERENCES ESIM.dbo.TIPOQTDEDIAS(TIPOQTDEDIASID) GO
ALTER TABLE ESIM.dbo.DEBITOCONTA ADD CONSTRAINT FK_DEBITOCO_TIPOQTDE_ENVIOARQ FOREIGN KEY (TIPOQTDEENVIOARQUIVOCONVENIO_T) REFERENCES ESIM.dbo.TIPOQTDEDIAS(TIPOQTDEDIASID) GO
ALTER TABLE ESIM.dbo.DEBITOCONTA ADD CONSTRAINT FK_DEBITOCO_TIPOQTDE_ENVIOARQ2 FOREIGN KEY (TIPOQTDEENVIOARQUIVOPRATICA_TI) REFERENCES ESIM.dbo.TIPOQTDEDIAS(TIPOQTDEDIASID) GO
ALTER TABLE ESIM.dbo.DEBITOCONTA ADD CONSTRAINT FK_DEBITOCO_TIPOQTDE_ENVIOARQ3 FOREIGN KEY (TIPOQTDECOMANDOCANCELAMENTO_TI) REFERENCES ESIM.dbo.TIPOQTDEDIAS(TIPOQTDEDIASID) GO;


-- ESIM.dbo.DEBITOCONTAPADRAOBANCO foreign keys

ALTER TABLE ESIM.dbo.DEBITOCONTAPADRAOBANCO ADD CONSTRAINT FK_DEBITOCONTAPADRAOBANCO_BANCO FOREIGN KEY (BANCO_PESSOAID) REFERENCES ESIM.dbo.BANCO(PESSOAID) GO
ALTER TABLE ESIM.dbo.DEBITOCONTAPADRAOBANCO ADD CONSTRAINT FK_DEBITOCONTAPADRAOBANCO_DEBITOCONTA FOREIGN KEY (CONVENIOID) REFERENCES ESIM.dbo.DEBITOCONTA(CONVENIOID) GO
ALTER TABLE ESIM.dbo.DEBITOCONTAPADRAOBANCO ADD CONSTRAINT FK_DEBITOCONTAPADRAOBANCO_ORIGEMITEMCOBRANCA FOREIGN KEY (ORIGEMITEMCOBRANCAID) REFERENCES ESIM.dbo.ORIGEMITEMCOBRANCA(ORIGEMITEMCOBRANCAID) GO;


-- ESIM.dbo.DEBITOCONTATIPOCORRENTISTA foreign keys

ALTER TABLE ESIM.dbo.DEBITOCONTATIPOCORRENTISTA ADD CONSTRAINT FK_DEBITOCONTATIPOCORRENTISTA_DEBITOCONTA FOREIGN KEY (CONVENIOID) REFERENCES ESIM.dbo.DEBITOCONTA(CONVENIOID) GO
ALTER TABLE ESIM.dbo.DEBITOCONTATIPOCORRENTISTA ADD CONSTRAINT FK_DEBITOCONTATI_TIPOCONTACORR FOREIGN KEY (TIPOCONTACORRENTEID) REFERENCES ESIM.dbo.TIPOCONTACORRENTE(TIPOCONTACORRENTEID) GO;


-- ESIM.dbo.DEBITOPROGRAMADOBANCO foreign keys

ALTER TABLE ESIM.dbo.DEBITOPROGRAMADOBANCO ADD CONSTRAINT FK_DEBITOPROGRAMADOBANCO_BANCO FOREIGN KEY (BANCO_PESSOAID) REFERENCES ESIM.dbo.BANCO(PESSOAID) GO
ALTER TABLE ESIM.dbo.DEBITOPROGRAMADOBANCO ADD CONSTRAINT FK_DEBITOPROGRAMADOBANCO_ORGAOCONSIGNANTE FOREIGN KEY (ORGAOCONSIGNANTE_PESSOAID) REFERENCES ESIM.dbo.ORGAOCONSIGNANTE(ORGAOCONSIGNANTE_PESSOAID) GO;